/* CIVITAS – PDF Report Stylesheet (Apple-inspired Light Theme) */

@page {
    size: letter;
    margin: 0.75in;
    @bottom-center {
        content: "CIVITAS Municipal Risk Report  |  Page " counter(page) " of " counter(pages);
        font-size: 8pt;
        color: #9ca3af;
        font-family: -apple-system, 'Helvetica Neue', Arial, sans-serif;
    }
}

* {
    box-sizing: border-box;
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
}

body {
    font-family: -apple-system, 'Helvetica Neue', Arial, sans-serif;
    font-size: 10pt;
    color: #111827;
    background: #ffffff;
    line-height: 1.5;
}

h1 { font-size: 20pt; margin: 0 0 4pt; color: #111827; font-weight: 700; }
h2 { font-size: 12pt; margin: 18pt 0 8pt; color: #374151; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5pt; }
h3 { font-size: 10pt; margin: 12pt 0 4pt; color: #374151; font-weight: 600; }

/* ── Header bar ─────────────────────────────────────── */
.report-header {
    border-bottom: 2pt solid #2563eb;
    padding: 0 0 10pt 0;
    margin-bottom: 16pt;
}
.report-header .title {
    font-size: 24pt;
    font-weight: 800;
    letter-spacing: 3pt;
    color: #111827;
}
.report-header .subtitle {
    font-size: 9pt;
    color: #6b7280;
    margin-top: 2pt;
}

/* ── Meta info ──────────────────────────────────────── */
.meta-row {
    font-size: 9pt;
    color: #6b7280;
    margin-bottom: 2pt;
}
.meta-row strong {
    color: #374151;
}

/* ── Risk badge ─────────────────────────────────────── */
.risk-badge {
    display: inline-block;
    padding: 4pt 16pt;
    border-radius: 20pt;
    font-size: 12pt;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1pt;
    margin-bottom: 6pt;
}
.risk-HIGH     { background: #fef2f2; color: #dc2626; border: 1pt solid #fecaca; }
.risk-ELEVATED { background: #fff7ed; color: #ea580c; border: 1pt solid #fed7aa; }
.risk-MODERATE { background: #fefce8; color: #ca8a04; border: 1pt solid #fef08a; }
.risk-LOW      { background: #f0fdf4; color: #16a34a; border: 1pt solid #bbf7d0; }

/* ── Score display ───────────────────────────────────── */
.score-block {
    font-size: 42pt;
    font-weight: 800;
    line-height: 1;
    margin-bottom: 2pt;
}
.score-HIGH     { color: #dc2626; }
.score-ELEVATED { color: #ea580c; }
.score-MODERATE { color: #ca8a04; }
.score-LOW      { color: #16a34a; }

.score-label {
    font-size: 9pt;
    color: #9ca3af;
}

/* ── Score card ──────────────────────────────────────── */
.score-card {
    border: 1pt solid #e5e7eb;
    border-radius: 8pt;
    padding: 16pt;
    margin: 12pt 0;
    text-align: center;
}

/* ── Flag cards ─────────────────────────────────────── */
.flag-card {
    border-left: 3pt solid #d1d5db;
    border-radius: 0 6pt 6pt 0;
    padding: 8pt 12pt;
    margin-bottom: 6pt;
    background: #ffffff;
}
.flag-cat-A { border-color: #ef4444; background: #fef2f2; }
.flag-cat-B { border-color: #f97316; background: #fff7ed; }
.flag-cat-C { border-color: #eab308; background: #fefce8; }
.flag-cat-D { border-color: #3b82f6; background: #eff6ff; }
.flag-code { font-weight: 700; font-size: 9pt; color: #111827; font-family: 'SF Mono', 'Menlo', monospace; }
.flag-score { float: right; font-size: 9pt; color: #6b7280; }
.flag-detail { font-size: 9pt; color: #6b7280; margin-top: 2pt; }

/* ── No flags ───────────────────────────────────────── */
.no-flags {
    color: #16a34a;
    font-weight: 600;
    background: #f0fdf4;
    border: 1pt solid #bbf7d0;
    border-radius: 6pt;
    padding: 10pt 14pt;
    font-size: 10pt;
}

/* ── Narrative ───────────────────────────────────────── */
.ai-narrative {
    background: #f9fafb;
    border: 1pt solid #e5e7eb;
    border-radius: 6pt;
    padding: 12pt 14pt;
    font-size: 10pt;
    line-height: 1.7;
    margin: 10pt 0;
    white-space: pre-wrap;
    color: #374151;
}

/* ── Tables ─────────────────────────────────────────── */
table {
    width: 100%;
    border-collapse: collapse;
    font-size: 8.5pt;
    margin-bottom: 12pt;
    border: 1pt solid #e5e7eb;
    border-radius: 4pt;
}
th {
    background: #f9fafb;
    color: #6b7280;
    padding: 6pt 8pt;
    text-align: left;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 7.5pt;
    letter-spacing: 0.5pt;
    border-bottom: 1pt solid #e5e7eb;
}
td {
    padding: 5pt 8pt;
    border-bottom: 0.5pt solid #f3f4f6;
    vertical-align: top;
    color: #374151;
}
tr:nth-child(even) td { background: #f9fafb; }
.empty-row td { color: #9ca3af; font-style: italic; }

/* ── Disclaimer ─────────────────────────────────────── */
.disclaimer {
    font-size: 7.5pt;
    color: #9ca3af;
    border-top: 1pt solid #e5e7eb;
    margin-top: 14pt;
    padding-top: 6pt;
    line-height: 1.4;
}

/* ── Page breaks ─────────────────────────────────────── */
.page-break { page-break-after: always; }

/* ── Methodology ─────────────────────────────────────── */
.method-section { margin-bottom: 14pt; }
.method-section p { color: #4b5563; line-height: 1.6; }
.tier-table { width: 55%; }
.tier-table td:first-child { font-weight: 700; }

/* ── Section divider ─────────────────────────────────── */
.section-divider {
    border: none;
    border-top: 1pt solid #e5e7eb;
    margin: 14pt 0;
}
